<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="1256px" height="1286px" viewBox="-0.5 -0.5 1256 1286"><defs/><g><rect x="180" y="140" width="540" height="500" rx="75" ry="75" fill="none" stroke="#000000" stroke-width="4" transform="translate(2,3)" opacity="0.25"/><rect x="180" y="140" width="540" height="500" rx="75" ry="75" fill="none" stroke="#00cc00" stroke-width="4" pointer-events="all"/><g fill="#00CC00" font-family="Helvetica" font-weight="bold" text-anchor="middle" font-size="15px"><text x="449.5" y="616.5">Wikipedia / MediaWiki                                     </text></g><rect x="220" y="160" width="140" height="440" rx="21" ry="21" fill="none" stroke="#000000" stroke-width="4" transform="translate(2,3)" opacity="0.25"/><rect x="220" y="160" width="140" height="440" rx="21" ry="21" fill="none" stroke="#00cc00" stroke-width="4" pointer-events="all"/><g fill="#00CC00" font-family="Helvetica" font-weight="bold" text-anchor="middle" font-size="15px"><text x="289.5" y="594.5">Mediawiki Core</text></g><rect x="230" y="660" width="1020" height="620" rx="93" ry="93" fill="none" stroke="#000000" stroke-width="4" transform="translate(2,3)" opacity="0.25"/><rect x="230" y="660" width="1020" height="620" rx="93" ry="93" fill="none" stroke="#00cc00" stroke-width="4" pointer-events="all"/><g fill="#00CC00" font-family="Helvetica" font-weight="bold" text-anchor="middle" font-size="15px"><text x="739.5" y="1274.5">Wikibase Repo</text></g><rect x="400" y="160" width="300" height="440" rx="45" ry="45" fill="none" stroke="#000000" stroke-width="4" transform="translate(2,3)" opacity="0.25"/><rect x="400" y="160" width="300" height="440" rx="45" ry="45" fill="none" stroke="#00cc00" stroke-width="4" pointer-events="all"/><g fill="#00CC00" font-family="Helvetica" font-weight="bold" text-anchor="middle" font-size="15px"><text x="549.5" y="594.5">WikibaseClient</text></g><rect x="320" y="0" width="680" height="80" fill-opacity="0.5" fill="#dae8fc" stroke="none" pointer-events="all"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="36px"><text x="659.5" y="56.5">Data Flow - data flowing into the repo</text></g><rect x="0" y="200" width="80" height="80" fill="#000000" stroke="none" transform="translate(2,3)" opacity="0.25"/><rect x="0" y="200" width="80" height="80" fill="#ff33ff" stroke="none" pointer-events="all"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="10px"><text x="39.5" y="243.5">Persistence</text></g><rect x="0" y="80" width="80" height="80" fill="#000000" stroke="#000000" transform="translate(2,3)" opacity="0.25"/><rect x="0" y="80" width="80" height="80" fill="#bababa" stroke="#666666" pointer-events="all"/><g fill="#333333" font-family="Helvetica" text-anchor="middle" font-size="10px"><text x="39.5" y="123.5">Input Device</text></g><rect x="0" y="320" width="80" height="80" fill="#000000" stroke="none" transform="translate(2,3)" opacity="0.25"/><rect x="0" y="320" width="80" height="80" fill="#ffff33" stroke="none" pointer-events="all"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="10px"><text x="39.5" y="351.5">Software</text><text x="39.5" y="363.5">Building Block</text></g><rect x="440" y="840" width="80" height="80" fill="#000000" stroke="none" transform="translate(2,3)" opacity="0.25"/><rect x="440" y="840" width="80" height="80" fill="#ffff33" stroke="none" pointer-events="all"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="10px"><text x="479.5" y="883.5">Wikibase API</text></g><rect x="240" y="360" width="80" height="80" fill="#000000" stroke="none" transform="translate(2,3)" opacity="0.25"/><rect x="240" y="360" width="80" height="80" fill="#ffff33" stroke="none" pointer-events="all"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="10px"><text x="279.5" y="397.5">MediaWiki</text><text x="279.5" y="409.5">Pages &amp; Content</text></g><rect x="240" y="200" width="80" height="80" fill="#000000" stroke="none" transform="translate(2,3)rotate(180,280,240)" opacity="0.25"/><rect x="240" y="200" width="80" height="80" fill="#bababa" stroke="none" transform="rotate(180,280,240)" pointer-events="all"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="10px"><text x="279.5" y="237.5">Article Page</text><text x="279.5" y="249.5">Move/Deletion UI</text></g><path d="M 280 280 L 280 349.76" fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 280 357.76 L 277.33 349.76 L 282.67 349.76 Z" fill="#000000" stroke="#000000" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><rect x="240" y="480" width="80" height="80" fill="#000000" stroke="none" transform="translate(2,3)rotate(180,280,520)" opacity="0.25"/><rect x="240" y="480" width="80" height="80" fill="#bababa" stroke="none" transform="rotate(180,280,520)" pointer-events="all"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="10px"><text x="279.5" y="517.5">Sitelinks</text><text x="279.5" y="529.5">(TODO)</text></g><rect x="440" y="480" width="80" height="80" fill="#000000" stroke="none" transform="translate(2,3)rotate(180,480,520)" opacity="0.25"/><rect x="440" y="480" width="80" height="80" fill="#bababa" stroke="none" transform="rotate(180,480,520)" pointer-events="all"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="10px"><text x="479.5" y="523.5">Data Bridge</text></g><path d="M 480 560 L 480 829.76" fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 480 837.76 L 477.33 829.76 L 482.67 829.76 Z" fill="#000000" stroke="#000000" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><rect x="480" y="240" width="80" height="80" fill="#000000" stroke="none" transform="translate(2,3)rotate(180,520,280)" opacity="0.25"/><rect x="480" y="240" width="80" height="80" fill="#ff33ff" stroke="none" transform="rotate(180,520,280)" pointer-events="all"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="10px"><text x="519.5" y="271.5">Wikibase Client</text><text x="519.5" y="283.5"> Usage Tracking</text><text x="519.5" y="295.5">(in SQL)</text></g><path d="M 320 400 L 589.76 400" fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 597.76 400 L 589.76 402.66 L 589.76 397.33 Z" fill="#000000" stroke="#000000" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><path d="M 360 880 L 429.76 880" fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 437.76 880 L 429.76 882.67 L 429.76 877.33 Z" fill="#000000" stroke="#000000" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><rect x="280" y="840" width="80" height="80" fill="#000000" stroke="none" transform="translate(2,3)" opacity="0.25"/><rect x="280" y="840" width="80" height="80" fill="#bababa" stroke="none" pointer-events="all"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="10px"><text x="319.5" y="883.5">Entity Page UI</text></g><path d="M 520 880 L 589.76 880" fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 597.76 880 L 589.76 882.67 L 589.76 877.33 Z" fill="#000000" stroke="#000000" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><rect x="420" y="1160" width="120" height="80" fill="#000000" stroke="none" transform="translate(2,3)" opacity="0.25"/><rect x="420" y="1160" width="120" height="80" fill="#bababa" stroke="none" pointer-events="all"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="10px"><text x="479.5" y="1197.5">Item/Property/Lexeme Creation Page</text><text x="479.5" y="1209.5">(Special Page)</text></g><rect x="580" y="1160" width="120" height="80" fill="#000000" stroke="none" transform="translate(2,3)" opacity="0.25"/><rect x="580" y="1160" width="120" height="80" fill="#bababa" stroke="none" pointer-events="all"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="10px"><text x="639.5" y="1191.5">Item/Property/Lexeme</text><text x="639.5" y="1203.5">Set Page</text><text x="639.5" y="1215.5">(Special Page)</text></g><rect x="760" y="1160" width="80" height="80" fill="#000000" stroke="none" transform="translate(2,3)" opacity="0.25"/><rect x="760" y="1160" width="80" height="80" fill="#bababa" stroke="none" pointer-events="all"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="10px"><text x="799.5" y="1191.5">Merging an</text><text x="799.5" y="1203.5">Item/Lexeme</text><text x="799.5" y="1215.5">(Special Page)</text></g><rect x="920" y="1160" width="80" height="80" fill="#000000" stroke="none" transform="translate(2,3)" opacity="0.25"/><rect x="920" y="1160" width="80" height="80" fill="#bababa" stroke="none" pointer-events="all"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="10px"><text x="959.5" y="1197.5">Redirect an Entity</text><text x="959.5" y="1209.5"> (Special Page)</text></g><rect x="1080" y="1160" width="80" height="80" fill="#000000" stroke="none" transform="translate(2,3)" opacity="0.25"/><rect x="1080" y="1160" width="80" height="80" fill="#bababa" stroke="none" pointer-events="all"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="10px"><text x="1119.5" y="1197.5">SpecialPage: New </text><text x="1119.5" y="1209.5">EntitySchema</text></g><path d="M 640 1160 L 640 930.24" fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 640 922.24 L 642.67 930.24 L 637.33 930.24 Z" fill="#000000" stroke="#000000" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><path d="M 480 1160 L 634.32 928.52" fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 638.76 921.86 L 636.54 930 L 632.1 927.04 Z" fill="#000000" stroke="#000000" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><path d="M 800 1160 L 800 1090.23" fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 800 1082.23 L 802.67 1090.23 L 797.33 1090.23 Z" fill="#000000" stroke="#000000" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><path d="M 960 1160 L 960 1090.23" fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 960 1082.23 L 962.67 1090.23 L 957.33 1090.23 Z" fill="#000000" stroke="#000000" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><path d="M 1120 1160 L 1120 1090.23" fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1120 1082.23 L 1122.67 1090.23 L 1117.33 1090.23 Z" fill="#000000" stroke="#000000" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><rect x="1000" y="840" width="80" height="80" fill="#000000" stroke="none" transform="translate(2,3)rotate(180,1040,880)" opacity="0.25"/><rect x="1000" y="840" width="80" height="80" fill="#ff33ff" stroke="none" transform="rotate(180,1040,880)" pointer-events="all"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="10px"><text x="1039.5" y="877.5">repo</text><text x="1039.5" y="889.5">MySQL DB</text></g><rect x="760" y="840" width="160" height="80" fill="#000000" stroke="none" transform="translate(2,3)" opacity="0.25"/><rect x="760" y="840" width="160" height="80" fill="#ffff33" stroke="none" pointer-events="all"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="10px"><text x="839.5" y="877.5">Wikibase Common Data Access</text><text x="839.5" y="889.5">(data-access &amp; lib store)</text></g><path d="M 920 880 L 989.76 880" fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 997.76 880 L 989.76 882.67 L 989.76 877.33 Z" fill="#000000" stroke="#000000" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><rect x="760" y="1000" width="80" height="80" fill="#000000" stroke="none" transform="translate(2,3)" opacity="0.25"/><rect x="760" y="1000" width="80" height="80" fill="#ffff33" stroke="none" pointer-events="all"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="10px"><text x="799.5" y="1043.5">MergeInteractor</text></g><rect x="920" y="980" width="80" height="120" fill="#000000" stroke="none" transform="translate(2,3)rotate(90,960,1040)" opacity="0.25"/><rect x="920" y="980" width="80" height="120" fill="#ffff33" stroke="none" transform="rotate(90,960,1040)" pointer-events="all"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="10px"><text x="959.5" y="1037.5">EntityRedirectCreation</text><text x="959.5" y="1049.5">Interactor</text></g><path d="M 960 1000 L 1032.76 927.24" fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1038.42 921.58 L 1034.65 929.12 L 1030.88 925.35 Z" fill="#000000" stroke="#000000" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><path d="M 840 1040 L 889.76 1040" fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 897.76 1040 L 889.76 1042.66 L 889.76 1037.33 Z" fill="#000000" stroke="#000000" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><rect x="600" y="360" width="80" height="80" fill="#000000" stroke="none" transform="translate(2,3)" opacity="0.25"/><rect x="600" y="360" width="80" height="80" fill="#ffff33" stroke="none" pointer-events="all"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="10px"><text x="639.5" y="403.5">UpdateRepo</text></g><rect x="560" y="220" width="40" height="38.46" fill="none" stroke="none" pointer-events="all"/><g fill="#FF33FF" font-family="Helvetica" text-anchor="middle" font-size="60px"><text x="579.5" y="267.74">?</text></g><path d="M 640 440 L 640 669.77" fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 640 677.77 L 637.33 669.77 L 642.67 669.77 Z" fill="#000000" stroke="#000000" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><rect x="600" y="840" width="80" height="80" fill="#000000" stroke="none" transform="translate(2,3)" opacity="0.25"/><rect x="600" y="840" width="80" height="80" fill="#ffff33" stroke="none" pointer-events="all"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="10px"><text x="639.5" y="883.5">EditEntity</text></g><path d="M 800 1000 L 649.16 924.58" fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 642 921 L 650.35 922.19 L 647.96 926.96 Z" fill="#000000" stroke="#000000" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><path d="M 680 880.71 L 749.76 880.09" fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 757.76 880.02 L 749.79 882.76 L 749.74 877.42 Z" fill="#000000" stroke="#000000" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><rect x="1080" y="1000" width="80" height="80" fill="#000000" stroke="none" transform="translate(2,3)rotate(90,1120,1040)" opacity="0.25"/><rect x="1080" y="1000" width="80" height="80" fill="#ffff33" stroke="none" transform="rotate(90,1120,1040)" pointer-events="all"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="10px"><text x="1119.5" y="1043.5">EntitySchema</text></g><path d="M 1120 1000 L 1047.24 927.24" fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1041.58 921.58 L 1049.12 925.35 L 1045.35 929.12 Z" fill="#000000" stroke="#000000" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><path d="M 640 760 L 640 829.76" fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 640 837.76 L 637.33 829.76 L 642.67 829.76 Z" fill="#000000" stroke="#000000" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><rect x="600" y="680" width="80" height="80" fill="#000000" stroke="none" transform="translate(2,3)" opacity="0.25"/><rect x="600" y="680" width="80" height="80" fill="#ffff33" stroke="none" pointer-events="all"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="10px"><text x="639.5" y="723.5">UpdateRepoJob</text></g><rect x="660" y="680" width="90" height="25.64" fill="#000000" stroke="none" transform="translate(2,3)rotate(180,705,692.82)" opacity="0.25"/><rect x="660" y="680" width="90" height="25.64" fill="#ff33ff" stroke="none" transform="rotate(180,705,692.82)" pointer-events="all"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="10px"><text x="704.5" y="696.32">Repo Job Queue</text></g></g></svg>